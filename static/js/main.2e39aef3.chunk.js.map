{"version":3,"sources":["components/Button/Button.module.css","components/Modal/Modal.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.js","components/Gallery/ImageGalleryItem.js","components/Gallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","servise/apiFeatch.js","utils/mapper.js","components/App/App.js","index.js","components/Searchbar/Searchbar.module.css","components/Gallery/Gallery.module.css"],"names":["module","exports","Searchbar","state","value","handleChangeInput","target","setState","handleSubmit","e","onSubmit","props","preventDefault","trim","className","styles","SearchForm","this","type","Button","Label","Input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","imageId","smallImg","onClick","id","image","src","alt","prototype","PropTypes","string","isRequired","number","func","ImageGallery","images","onModal","map","modalImg","arrayOf","shape","onClickLoadMore","loadButton","Modal","EscCloseModal","event","key","onCloseModal","clickCloseModal","window","addEventListener","removeEventListener","query","Overlay","LoaderSpin","loader","color","height","width","fetchImg","searchName","page","axios","get","mapper","hits","webformatURL","largeImageURL","App","isLoading","isModal","handleToggleModal","fetchImages","imageApi","then","data","prevState","catch","error","console","log","finally","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","length","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,WAAa,2BAA2B,OAAS,yB,mBCAnED,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,OAAS,yB,4JCkDZC,E,4MAzCbC,MAAQ,CACNC,MAAO,I,EAGTC,kBAAoB,YAA4B,IAAfD,EAAc,EAAxBE,OAAUF,MAC/B,EAAKG,SAAS,CAAEH,MAAOA,K,EAIzBI,aAAe,SAACC,GACd,IAAQL,EAAU,EAAKD,MAAfC,MACAM,EAAa,EAAKC,MAAlBD,SACRD,EAAEG,iBACER,EAAMS,SACRH,EAASN,GACT,EAAKG,SAAS,CAAEH,MAAO,O,4CAI3B,WACE,OACE,wBAAQU,UAAWC,IAAOb,UAA1B,SACE,uBAAMY,UAAWC,IAAOC,WAAYN,SAAUO,KAAKT,aAAnD,UACE,wBAAQU,KAAK,SAASJ,UAAWC,IAAOI,OAAxC,SACE,sBAAML,UAAWC,IAAOK,MAAxB,sBAGF,uBACEN,UAAWC,IAAOM,MAClBH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,SAAUR,KAAKZ,6B,GAtCHqB,a,gCCDlBC,EAAmB,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,QAASC,EAAwB,EAAxBA,SAAUC,EAAc,EAAdA,QAE7C,OACE,oBAAIC,GAAIH,EAAR,SACE,qBACEd,UAAWC,IAAOiB,MAClBC,IAAKJ,EACLK,IAAI,QACJJ,QAASA,OAMjBH,EAAiBQ,UAAY,CAC3BN,SAAUO,IAAUC,OAAOC,WAC3BV,QAASQ,IAAUG,OAAOD,WAC1BR,QAASM,IAAUI,KAAKF,YAGXX,QClBTc,EAAe,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC9B,OACE,oBAAI7B,UAAWC,IAAO0B,aAAtB,SACGC,EAAOE,KAAI,gBAAGhB,EAAH,EAAGA,QAASC,EAAZ,EAAYA,SAAUgB,EAAtB,EAAsBA,SAAtB,OACV,cAAC,EAAD,CAEEjB,QAASA,EACTC,SAAUA,EACVC,QAAS,kBAAMa,EAAQE,KAHlBjB,SAUfa,EAAaN,UAAY,CACvBO,OAAQN,IAAUU,QAChBV,IAAUW,MAAM,CACdnB,QAASQ,IAAUC,OAAOC,WAC1BT,SAAUO,IAAUC,OAAOC,WAC3BO,SAAUT,IAAUC,OAAOC,aAC1BA,YACHA,WACFK,QAASP,IAAUI,KAAKF,YAGXG,Q,iBCfAtB,EAZA,SAAC,GAAD,IAAG6B,EAAH,EAAGA,gBAAH,OACb,qBAAKlC,UAAWC,IAAOkC,WAAvB,SACE,wBAAQnC,UAAWC,IAAOI,OAAQW,QAAS,kBAAMkB,KAAjD,0B,iBC+CWE,E,4MAxBbC,cAAgB,SAACC,GACG,WAAdA,EAAMC,KACR,EAAK1C,MAAM2C,gB,EAKfC,gBAAkB,SAAC9C,GACjB,EAAKE,MAAM2C,gB,uDAhBb,WACEE,OAAOC,iBAAiB,UAAWxC,KAAKkC,iB,kCAG1C,WACEK,OAAOE,oBAAoB,UAAWzC,KAAKkC,iB,oBAe7C,WACE,MAAyBlC,KAAKN,MAAtBqB,EAAR,EAAQA,MAAO2B,EAAf,EAAeA,MACf,OACE,qBAAK7C,UAAWC,IAAO6C,QAAS9B,QAASb,KAAKsC,gBAA9C,SACE,qBAAKzC,UAAWC,IAAOmC,MAAvB,SACE,qBAAKjB,IAAKD,EAAOE,IAAKyB,Y,GA/BZjC,a,kCCJLmC,G,MANI,kBACjB,qBAAK/C,UAAWC,IAAO+C,OAAvB,SACE,cAAC,IAAD,CAAQ5C,KAAK,SAAS6C,MAAM,UAAUC,OAAQ,GAAIC,MAAO,S,iBCFhDC,EAAW,SAACC,EAAYC,GAAb,OACtBC,IAAMC,IAAN,UAJe,2BAIf,sDAC2DH,EAD3D,iBAC8EC,EAD9E,qBAHe,GAGf,gBALc,wCCQDG,EAVA,SAACC,GACd,OAAOA,EAAK5B,KACV,kBAAuE,CACrEhB,QADF,EAAGG,GAEDF,SAFF,EAAgB4C,aAGd5B,SAHF,EAAwC6B,mBC6F7BC,G,kNAlFbxE,MAAQ,CACNwD,MAAO,GACPS,KAAM,EACNQ,WAAW,EACXlC,OAAQ,GACRmC,SAAS,EACThC,SAAU,I,EAGZiC,kBAAoB,SAACjC,GACnB,EAAKtC,SAAS,CAAEsC,SAAUA,IAC1B,EAAKtC,SAAS,CAAEsE,SAAU,EAAK1E,MAAM0E,W,EASvCrE,aAAe,SAACmD,GACd,EAAKpD,SAAS,CAAEoD,MAAOA,EAAOS,KAAM,EAAG1B,OAAQ,M,EAgBjDqC,YAAc,SAACpB,EAAOS,GACpB,EAAK7D,SAAS,CAAEqE,WAAW,IAE3BI,EACYrB,EAAOS,GAChBa,MAAK,gBAAWT,EAAX,EAAGU,KAAQV,KAAX,OACJ,EAAKjE,UAAS,SAAC4E,GAAD,MAAgB,CAC5BzC,OAAO,GAAD,mBAAMyC,EAAUzC,QAAhB,YAA2B6B,EAAOC,YAG3CY,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAR,QAAqBF,MACtCG,SAAQ,WACP,EAAKjF,SAAS,CAAEqE,WAAW,Q,EAIjC5B,gBAAkB,SAACvC,GACjB,EAAKF,UAAS,SAAC4E,GAAD,MAAgB,CAAEf,KAAMe,EAAUf,KAAO,O,wDA9BzD,SAAmBqB,EAAWN,GAC5B,MAAwBlE,KAAKd,MAArBwD,EAAR,EAAQA,MAAOS,EAAf,EAAeA,KACXe,EAAUxB,QAAUA,GAASwB,EAAUf,OAASA,GAClDnD,KAAK8D,YAAYpB,EAAOS,GAEtBA,EAAO,GACTZ,OAAOkC,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,a,oBAyBhB,WACE,MAAwD9E,KAAKd,MAArDuC,EAAR,EAAQA,OAAQkC,EAAhB,EAAgBA,UAAWC,EAA3B,EAA2BA,QAASlB,EAApC,EAAoCA,MAAOd,EAA3C,EAA2CA,SAC3C,OACE,qCACE,cAAC,EAAD,CAAWnC,SAAUO,KAAKT,iBACvBkC,EAAOsD,QACR,cAAC,EAAD,CAActD,OAAQA,EAAQC,QAAS1B,KAAK6D,oBAE7CpC,EAAOsD,QAAU,KAAOpB,GACvB,cAAC,EAAD,CAAQ5B,gBAAiB/B,KAAK+B,kBAE/B6B,GACC,cAAC,EAAD,CACE7C,MAAOa,EACPc,MAAOA,EACPL,aAAcrC,KAAK6D,oBAItBF,GAAa,cAACqB,EAAD,W,GA7EJvE,cCPlBwE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFR,SAASS,eAAe,U,kBCR1BrG,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,OAAS,0BAA0B,MAAQ,yBAAyB,MAAQ,2B,kBCAlLD,EAAOC,QAAU,CAAC,aAAe,8BAA8B,iBAAmB,kCAAkC,MAAQ,0B","file":"static/js/main.2e39aef3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadButton\":\"Button_loadButton__1EzbR\",\"Button\":\"Button_Button__1-eRp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3jHS8\",\"Modal\":\"Modal_Modal__3cWg5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2yUXH\"};","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./Searchbar.module.css\";\n\nclass Searchbar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    value: \"\",\n  };\n\n  handleChangeInput = ({ target: { value } }) => {\n    this.setState({ value: value });\n    // console.log(value);\n  };\n\n  handleSubmit = (e) => {\n    const { value } = this.state;\n    const { onSubmit } = this.props;\n    e.preventDefault();\n    if (value.trim()) {\n      onSubmit(value);\n      this.setState({ value: \"\" });\n    }\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.Button}>\n            <span className={styles.Label}>Search</span>\n          </button>\n\n          <input\n            className={styles.Input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChangeInput}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React from \"react\";\nimport styles from \"./Gallery.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGalleryItem = ({ imageId, smallImg, onClick }) => {\n  //   console.log(`imageId`, imageId);\n  return (\n    <li id={imageId}>\n      <img\n        className={styles.image}\n        src={smallImg}\n        alt=\"query\"\n        onClick={onClick}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.prototype = {\n  smallImg: PropTypes.string.isRequired,\n  imageId: PropTypes.number.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport ImageGalleryItem from \"./ImageGalleryItem\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./Gallery.module.css\";\n\nconst ImageGallery = ({ images, onModal }) => {\n  return (\n    <ul className={styles.ImageGallery}>\n      {images.map(({ imageId, smallImg, modalImg }) => (\n        <ImageGalleryItem\n          key={imageId}\n          imageId={imageId}\n          smallImg={smallImg}\n          onClick={() => onModal(modalImg)}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.prototype = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      imageId: PropTypes.string.isRequired,\n      smallImg: PropTypes.string.isRequired,\n      modalImg: PropTypes.string.isRequired,\n    }).isRequired\n  ).isRequired,\n  onModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./Button.module.css\";\n\nconst Button = ({ onClickLoadMore }) => (\n  <div className={styles.loadButton}>\n    <button className={styles.Button} onClick={() => onClickLoadMore()}>\n      Load more\n    </button>\n  </div>\n);\n\nButton.propTypes = {\n  onClickLoadMore: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./Modal.module.css\";\n\n// const Modal = ({ image, query, onCloseModal }) => {\n//   console.log(`image`, image);\n//   return (\n//     <div className={styles.Overlay} onClick={() => onCloseModal()}>\n//       <div className={styles.Modal}>\n//         <img src={image} alt={query} />\n//       </div>\n//     </div>\n//   );\n// };\n\nclass Modal extends Component {\n  static propTypes = {\n    onCloseModal: PropTypes.func.isRequired,\n    image: PropTypes.string,\n    query: PropTypes.string.isRequired,\n  };\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.EscCloseModal);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.EscCloseModal);\n  }\n\n  EscCloseModal = (event) => {\n    if (event.key === \"Escape\") {\n      this.props.onCloseModal();\n      // window.removeEventListener(\"keydown\", this.EscCloseModal);\n    }\n  };\n\n  clickCloseModal = (e) => {\n    this.props.onCloseModal();\n    // window.removeEventListener(\"keydown\", this.EscCloseModal);\n  };\n\n  render() {\n    const { image, query } = this.props;\n    return (\n      <div className={styles.Overlay} onClick={this.clickCloseModal}>\n        <div className={styles.Modal}>\n          <img src={image} alt={query} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\n\nimport styles from \"./Loader.module.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nconst LoaderSpin = () => (\n  <div className={styles.loader}>\n    <Loader type=\"Hearts\" color=\"#00BFFF\" height={80} width={80} />\n  </div>\n);\n\nexport default LoaderSpin;\n","import axios from \"axios\";\n\nconst API_KEY = \"21924211-a56ef8093bc4c324081574229\";\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst PER_PAGE = 12;\n\nexport const fetchImg = (searchName, page) =>\n  axios.get(\n    `${BASE_URL}?image_type=photo&orientation=horizontal&q=${searchName}&page=${page}&per_page=${PER_PAGE}&key=${API_KEY}`\n  );\n// console.log(`result`, result);\n","const mapper = (hits) => {\n  return hits.map(\n    ({ id: imageId, webformatURL: smallImg, largeImageURL: modalImg }) => ({\n      imageId,\n      smallImg,\n      modalImg,\n    })\n  );\n};\n\nexport default mapper;\n","import React, { Component } from \"react\";\nimport Searchbar from \"../Searchbar\";\nimport ImageGallery from \"../Gallery\";\nimport Button from \"../Button\";\nimport Modal from \"../Modal\";\nimport Loader from \"../Loader\";\n\nimport * as imageApi from \"../../servise/apiFeatch\";\nimport mapper from \"../../utils/mapper\";\n\nimport \"./App.css\";\n// console.log(imageApi);\nclass App extends Component {\n  state = {\n    query: \"\",\n    page: 1,\n    isLoading: false,\n    images: [],\n    isModal: false,\n    modalImg: \"\",\n  };\n\n  handleToggleModal = (modalImg) => {\n    this.setState({ modalImg: modalImg });\n    this.setState({ isModal: !this.state.isModal });\n  };\n\n  // EscCloseModal = (event) => {\n  //   if (event.key === \"Escape\") {\n  //     this.onCloseModal();\n  //   }\n  // };\n\n  handleSubmit = (query) => {\n    this.setState({ query: query, page: 1, images: [] });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query, page } = this.state;\n    if (prevState.query !== query || prevState.page !== page) {\n      this.fetchImages(query, page);\n    }\n    if (page > 1) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  }\n\n  fetchImages = (query, page) => {\n    this.setState({ isLoading: true });\n\n    imageApi\n      .fetchImg(query, page)\n      .then(({ data: { hits } }) =>\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...mapper(hits)],\n        }))\n      )\n      .catch((error) => console.log(`error`, error))\n      .finally(() => {\n        this.setState({ isLoading: false });\n      });\n  };\n\n  onClickLoadMore = (e) => {\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\n  };\n\n  render() {\n    const { images, isLoading, isModal, query, modalImg } = this.state;\n    return (\n      <>\n        <Searchbar onSubmit={this.handleSubmit} />\n        {!!images.length && (\n          <ImageGallery images={images} onModal={this.handleToggleModal} />\n        )}\n        {images.length >= 12 && !isLoading && (\n          <Button onClickLoadMore={this.onClickLoadMore} />\n        )}\n        {isModal && (\n          <Modal\n            image={modalImg}\n            query={query}\n            onCloseModal={this.handleToggleModal}\n          />\n        )}\n\n        {isLoading && <Loader />}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n// import \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2vX0t\",\"SearchForm\":\"Searchbar_SearchForm__3asnE\",\"Button\":\"Searchbar_Button__1mHAo\",\"Label\":\"Searchbar_Label__34YCH\",\"Input\":\"Searchbar_Input__1KHlO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"Gallery_ImageGallery__T87Pd\",\"ImageGalleryItem\":\"Gallery_ImageGalleryItem__3uTq5\",\"image\":\"Gallery_image__22zzg\"};"],"sourceRoot":""}