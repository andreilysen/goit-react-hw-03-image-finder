(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{11:function(e,a,t){e.exports={loadButton:"button_loadButton__3h89X",Button:"button_Button__23rDn"}},12:function(e,a,t){e.exports={Overlay:"modal_Overlay__3eHbw",Modal:"modal_Modal__31iOQ"}},24:function(e,a,t){e.exports={loader:"loader_loader__1JBQ0"}},70:function(e,a,t){},71:function(e,a,t){"use strict";t.r(a);var n=t(1),o=t.n(n),r=t(22),i=t.n(r),c=t(13),l=t(4),s=t(5),u=t(7),d=t(6),m=t(8),g=t.n(m),h=t(0),b=function(e){Object(u.a)(t,e);var a=Object(d.a)(t);function t(){var e;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=a.call.apply(a,[this].concat(o))).state={value:""},e.handleChangeInput=function(a){var t=a.target.value;e.setState({value:t})},e.handleSubmit=function(a){var t=e.state.value,n=e.props.onSubmit;a.preventDefault(),t.trim()&&(n(t),e.setState({value:""}))},e}return Object(s.a)(t,[{key:"render",value:function(){return Object(h.jsx)("header",{className:g.a.Searchbar,children:Object(h.jsxs)("form",{className:g.a.SearchForm,onSubmit:this.handleSubmit,children:[Object(h.jsx)("button",{type:"submit",className:g.a.Button,children:Object(h.jsx)("span",{className:g.a.Label,children:"Search"})}),Object(h.jsx)("input",{className:g.a.Input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.handleChangeInput})]})})}}]),t}(n.Component),p=t(9),j=t.n(p),f=t(2),v=t.n(f),y=function(e){var a=e.imageId,t=e.smallImg,n=e.onClick;return Object(h.jsx)("li",{id:a,children:Object(h.jsx)("img",{className:j.a.image,src:t,alt:"query",onClick:n})})};y.prototype={smallImg:v.a.string.isRequired,imageId:v.a.number.isRequired,onClick:v.a.func.isRequired};var O=y,_=function(e){var a=e.images,t=e.onModal;return Object(h.jsx)("ul",{className:j.a.ImageGallery,children:a.map((function(e){var a=e.imageId,n=e.smallImg,o=e.modalImg;return Object(h.jsx)(O,{imageId:a,smallImg:n,onClick:function(){return t(o)}},a)}))})};_.prototype={images:v.a.arrayOf(v.a.shape({imageId:v.a.string.isRequired,smallImg:v.a.string.isRequired,modalImg:v.a.string.isRequired}).isRequired).isRequired,onModal:v.a.func.isRequired};var I=_,x=t(11),S=t.n(x),M=function(e){var a=e.onClickLoadMore;return Object(h.jsx)("div",{className:S.a.loadButton,children:Object(h.jsx)("button",{className:S.a.Button,onClick:function(){return a()},children:"Load more"})})},C=t(12),k=t.n(C),w=function(e){Object(u.a)(t,e);var a=Object(d.a)(t);function t(){var e;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=a.call.apply(a,[this].concat(o))).EscCloseModal=function(a){"Escape"===a.key&&(e.props.onCloseModal(),window.removeEventListener("keydown",e.EscCloseModal))},e.clickCloseModal=function(a){e.props.onCloseModal(),window.removeEventListener("keydown",e.EscCloseModal)},e}return Object(s.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.EscCloseModal)}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this.props,a=e.image,t=e.query;return Object(h.jsx)("div",{className:k.a.Overlay,onClick:this.clickCloseModal,children:Object(h.jsx)("div",{className:k.a.Modal,children:Object(h.jsx)("img",{src:a,alt:t})})})}}]),t}(n.Component),q=t(23),L=t.n(q),B=t(24),N=t.n(B),E=(t(51),function(){return Object(h.jsx)("div",{className:N.a.loader,children:Object(h.jsx)(L.a,{type:"Hearts",color:"#00BFFF",height:80,width:80})})}),R=t(25),F=t.n(R),H=function(e,a){return F.a.get("".concat("https://pixabay.com/api/","?image_type=photo&orientation=horizontal&q=").concat(e,"&page=").concat(a,"&per_page=").concat(12,"&key=").concat("21924211-a56ef8093bc4c324081574229"))},D=function(e){return e.map((function(e){return{imageId:e.id,smallImg:e.webformatURL,modalImg:e.largeImageURL}}))},G=(t(70),function(e){Object(u.a)(t,e);var a=Object(d.a)(t);function t(){var e;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=a.call.apply(a,[this].concat(o))).state={query:"",page:1,isLoading:!1,images:[],isModal:!1,modalImg:""},e.handleToggleModal=function(a){e.setState({modalImg:a}),e.setState({isModal:!e.state.isModal})},e.handleSubmit=function(a){e.setState({query:a,page:1,images:[]})},e.fetchImages=function(a,t){e.setState({isLoading:!0}),H(a,t).then((function(a){var t=a.data.hits;return e.setState((function(e){return{images:[].concat(Object(c.a)(e.images),Object(c.a)(D(t)))}}))})).catch((function(e){return console.log("error",e)})).finally((function(){e.setState({isLoading:!1})}))},e.onClickLoadMore=function(a){e.setState((function(e){return{page:e.page+1}}))},e}return Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,a){var t=this.state,n=t.query,o=t.page;a.query===n&&a.page===o||this.fetchImages(n,o),o>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,a=e.images,t=e.isLoading,n=e.isModal,o=e.query,r=e.modalImg;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(b,{onSubmit:this.handleSubmit}),!!a.length&&Object(h.jsx)(I,{images:a,onModal:this.handleToggleModal}),a.length>=12&&!t&&Object(h.jsx)(M,{onClickLoadMore:this.onClickLoadMore}),n&&Object(h.jsx)(w,{image:r,query:o,onCloseModal:this.handleToggleModal}),t&&Object(h.jsx)(E,{})]})}}]),t}(n.Component));i.a.render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(G,{})}),document.getElementById("root"))},8:function(e,a,t){e.exports={Searchbar:"Searchbar_Searchbar__2vX0t",SearchForm:"Searchbar_SearchForm__3asnE",Button:"Searchbar_Button__1mHAo",Label:"Searchbar_Label__34YCH",Input:"Searchbar_Input__1KHlO"}},9:function(e,a,t){e.exports={ImageGallery:"gallery_ImageGallery__2Phto",ImageGalleryItem:"gallery_ImageGalleryItem__1v3MX",image:"gallery_image__9ycZX"}}},[[71,1,2]]]);
//# sourceMappingURL=main.f57f8788.chunk.js.map